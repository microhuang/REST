# REST API接口规范

    修订：2016-05-19
    

## 响应／输出：

    格式：
    
		json格式：

			{
				status: xxx,       /*必选，状态码*/
				message: yyy,      /*必选，状态文本、状态码的详细描述*/
				ver: vvv,          /*版本，可选*/
				format: fff,       /*格式，可选：json、xml、text、......*/
				auth: aaa,         /*验证，可选：hmac、base、degist、auth2.0、......*/
				result:            /*必选*/
                {
					               /*业务数据，只在状态码2xx时，具有可靠的业务结果*/
				}
			}

		其他格式：

			<由请求URI确定，默认json>

	头：

        验证方式：
        
		    WWW-Authenticate: <Basic|Digest|hmac>
		
		    WWW-Authenticate: hmac

	状态码：

          100~199：信息状态码，代表请求已被接受，需要继续处理。
          200~299：成功状态码，代表请求已成功被服务器接收、理解、并接受。
          300~399：重定向状态码，代表需要客户端采取进一步的操作才能完成请求。
          400~499：客户端错误状态码，代表了客户端看起来可能发生了错误，妨碍了服务器的处理。
          500~599：服务器错误状态码，代表了服务器在处理请求的过程中有错误或者异常状态发生，也有可能是服务器意识到以当前的软硬件资源无法完成对请求的处理。
          200：业务成功码。
        * -500 ~ -599：业务错误码，应避免与http协议定义重叠，业务错误文本由message描述。

## 请求／输入：

	格式：

		<方法> <服务器>/<前缀>/<资源、接口>/[v_版本]/[f_格式]/<服务参数>/[动作]?<业务参数>

	示例：

		GET http://localhost/rsk/api/score?userId=123456

		GET http://localhost/rsk/api/score/v_1/f_json?userId=123456

		POST http://localhost/rsk/api/score?userId=123456

			查询指定用户的分数

		POST http://localhost/rsk/api/score/add?userId=123456&score=1.23

			新增用户分数记录

	方法：

		GET

			幂等的、且需要参数简洁的请求（包括：查、改、增、删）。

		POST

			幂等的、且需要参数复杂的查询请求。

			幂等的、或非幂等的修改、增加、删除请求。	

		PUT、DELETE、HEAD、......等方法

			可选支持、或者由GET或POST模拟（某些客户端可能不支持这些操作，为了兼容性考虑）。

	服务器：

		不解释。

	前缀：

		在一个服务器下部署多套业务API时、或者其他需求时。

	资源、接口：

		资源、或者说API，名词，集合时使用复数、个体时使用单数。

	v_版本：

		可选，接口的版本，默认使用最新版本，如果指明则使用所指定的版本。

	f_格式：

		可选，响应结果的格式比如json、xml，等。默认json，如果指明则使用所指定的格式。

	服务参数：

		我们将与业务关系不大的、通用性的参数称作服务参数，比如上面的版本、格式，可能还有一些其他场景要求的参数，这些参数以上述可选格式提供。

	动作：

		可选，默认get，还包括add、update、delete、以及其它。

	业务参数：

		将与业务相关的参数称作业务参数，比如用户ID、分页、排序等等。
		
	头：

        HMAC

            Authorization: <id>:<token>
        
                Authorization: 123456:uCMfSzkjue+HSDygYB5aEg==

## HTTPS

    面向外网环境使用TLS1.0／SSL3.1。
	
## 其它事项：

	安全性
	
	    HMAC支持

	权限

	缓存
	
	短横线还是下划线，-、_
	
	    短横线表示连词
	    
	    下划线表示空格/分词
